{
   "app-id": "org.freedesktop.adriconf",
   "runtime": "org.freedesktop.Platform",
   "runtime-version": "20.08",
   "sdk": "org.freedesktop.Sdk",
   "command": "adriconf",
   "finish-args": [
      "--socket=x11",
      "--socket=wayland",
      "--share=ipc",
      "--device=dri",
      "--filesystem=host"
   ],
   "cleanup": [
      "/include",
      "/lib/pkgconfig",
      "*.a",
      "*.la"
   ],
   "modules": [
      {
         "name": "sigc++",
         "config-opts": [
            "--disable-documentation"
         ],
         "cleanup": [
            "/lib/sigc++-2.0"
         ],
         "sources": [
            {
               "type": "archive",
               "url": "https://ftp.acc.umu.se/pub/GNOME/sources/libsigc++/2.10/libsigc++-2.10.7.tar.xz",
               "sha256": "d082a2ce72c750f66b1a415abe3e852df2eae1e8af53010f4ac2ea261a478832"
            }
         ]
      },
      {
         "name": "cairomm",
         "config-opts": [
            "--disable-documentation"
         ],
         "cleanup": [
            "/lib/cairomm-1.0"
         ],
         "sources": [
            {
               "type": "archive",
               "url": "https://www.cairographics.org/releases/cairomm-1.16.1.tar.xz",
               "sha256": "6f6060d8e98dd4b8acfee2295fddbdd38cf487c07c26aad8d1a83bb9bff4a2c6"
            }
         ]
      },
      {
         "name": "glibmm",
         "config-opts": [
            "--disable-documentation"
         ],
         "cleanup": [
            "/lib/glibmm-2.4",
            "/lib/giomm-2.4"
         ],
         "sources": [
            {
               "type": "archive",
               "url": "https://ftp.acc.umu.se/pub/GNOME/sources/glibmm/2.70/glibmm-2.70.0.tar.xz",
               "sha256": "8008fd8aeddcc867a3f97f113de625f6e96ef98cf7860379813a9c0feffdb520"
            }
         ]
      },
      {
         "name": "pangomm",
         "config-opts": [
            "--disable-documentation"
         ],
         "cleanup": [
            "/lib/pangomm-1.4"
         ],
         "sources": [
            {
               "type": "archive",
               "url": "https://ftp.acc.umu.se/pub/GNOME/sources/pangomm/2.50/pangomm-2.50.0.tar.xz",
               "sha256": "a27aa77e017b9afce9e751d85bd1cf890abbb3a58bf59d0fac917eef82db3b5b"
            }
         ]
      },
      {
         "name": "atkmm",
         "config-opts": [
            "--disable-documentation"
         ],
         "cleanup": [
            "/lib/atkmm-1.6"
         ],
         "sources": [
            {
               "type": "archive",
               "url": "https://ftp.acc.umu.se/pub/GNOME/sources/atkmm/2.36/atkmm-2.36.1.tar.xz",
               "sha256": "e11324bfed1b6e330a02db25cecc145dca03fb0dff47f0710c85e317687da458"
            }
         ]
      },
      {
         "name": "gtkmm",
         "config-opts": [
            "--disable-documentation"
         ],
         "cleanup": [
            "/lib/gtkmm-3.0",
            "/lib/gdkmm-3.0"
         ],
         "sources": [
            {
               "type": "archive",
               "url": "https://ftp.acc.umu.se/pub/GNOME/sources/gtkmm/3.24/gtkmm-3.24.5.tar.xz",
               "sha256": "856333de86689f6a81c123f2db15d85db9addc438bc3574c36f15736aeae22e6"
            }
         ]
      },
      {
         "name": "pugixml",
         "cmake": true,
         "sources": [
            {
               "type": "archive",
               "url": "https://github.com/zeux/pugixml/releases/download/v1.11.4/pugixml-1.11.4.tar.gz",
               "sha256": "8ddf57b65fb860416979a3f0640c2ad45ddddbbafa82508ef0a0af3ce7061716"
            }
         ]
      },
      {
         "name": "libpci",
         "cleanup": [
            "/sbin",
            "/man"
         ],
         "sources": [
            {
               "type": "archive",
               "url": "https://www.kernel.org/pub/software/utils/pciutils/pciutils-3.7.0.tar.xz",
               "sha256": "9d40b97be8b6a2cdf96aead5a61881d1f7e4e0da9544a9bac4fba1ae9dcd40eb"
            }
         ],
         "no-autogen": true,
         "make-args": [
            "SHARED=yes",
            "PREFIX=/app",
            "SHAREDIR=/app/share/hwdata"
         ],
         "make-install-args": [
            "SHARED=yes",
            "PREFIX=/app",
            "SHAREDIR=/app/share/hwdata",
            "install-lib"
         ]
      },
      {
         "name": "adriconf",
         "buildsystem": "cmake-ninja",
         "config-opts": ["-DENABLE_UNIT_TESTS=0"],
         "sources": [
            {
               "type": "git",
               "url": "https://gitlab.freedesktop.org/mesa/adriconf/",
               "tag": "v2.5.0"
            },
            {
               "type": "file",
               "path": "org.freedesktop.adriconf.metainfo.xml"
            }
         ],
         "build-commands": [
            "install -Dm644 org.freedesktop.adriconf.metainfo.xml /app/share/metainfo/org.freedesktop.adriconf.metainfo.xml",
            "install -Dm644 flatpak/org.freedesktop.adriconf.desktop /app/share/applications/org.freedesktop.adriconf.desktop",
            "install -Dm644 flatpak/org.freedesktop.adriconf.png /app/share/icons/hicolor/256x256/apps/org.freedesktop.adriconf.png"
         ]
      }
   ]
}
